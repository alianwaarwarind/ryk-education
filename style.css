:root {
    --figure-size: 16px; /* Increased figure size for better visibility and impact */
    --primary-color: #e74c3c;
    --accent-color: #f1c40f; 
    --background-color: #f4f4f4;
    --text-color: #2c3e50;
    --dark-bg: #1a1a1a;
}
/* ... (Keep all existing styles for body, h1, story-section, etc.) ... */

/* Visualization Container Setup (The Sticky Window) */
#visualization-section {
    position: sticky; 
    top: 0;
    width: 100vw;
    height: 100vh;
    background-color: var(--dark-bg);
    overflow: hidden;
    display: flex;
    justify-content: center;
    align-items: center;
    z-index: 1; 
}

#figure-container {
    width: 95%; /* Increased width to spread figures closer to the edges */
    height: 95%; /* Increased height to use more screen space */
    display: flex;
    flex-wrap: wrap; 
    align-content: flex-start; /* CRITICAL: Figures start filling from the top */
    justify-content: center;
}

/* Styling for each individual figure (the small emojis) */
.child-figure {
    width: var(--figure-size);
    height: var(--figure-size);
    background-color: transparent;
    border-radius: 0;
    margin: 3px; /* INCREASED: More margin for easier clicking and visual separation */
    opacity: 0; 
    transition: opacity 0.5s; 
    cursor: pointer;
    font-size: var(--figure-size);
    color: var(--accent-color);
}

.child-figure::before {
    content: 'üßç'; 
}
/* ... (Keep the rest of the existing styles, including the scroll-buffer and mobile media query) ... */

/* --- Mobile Optimization: Media Query --- */
@media (max-width: 600px) {
    /* ... (Keep all existing mobile optimization styles) ... */
    
    /* CRITICAL FIX: Adjust the figure size for mobile rendering and performance */
    :root {
        --figure-size: 12px; /* Set a specific, larger size for mobile */
    }
}
