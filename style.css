:root {
    --primary-color: #e74c3c;
    --accent-color: #f1c40f; 
    --background-color: #f4f4f4;
    --text-color: #2c3e50;
    --dark-bg: #1a1a1a;
}

body {
    font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
    margin: 0;
    padding: 0;
    background-color: var(--background-color);
    color: var(--text-color);
    line-height: 1.6;
    scroll-behavior: smooth;
}
/* ... (Keep existing section/text styles) ... */

/* Visualization Container Setup (The Sticky Window) */
#visualization-section {
    position: sticky; 
    top: 0;
    width: 100vw;
    height: 100vh;
    background-color: var(--dark-bg);
    overflow: hidden;
    
    /* Ensure the figure container block is centered both ways */
    display: flex;
    justify-content: center; 
    align-items: center; 
    
    z-index: 1; 
}

#figure-container {
    width: 95%; 
    height: 95%; 
    
    /* Use auto margins for centering within the flex parent */
    margin-top: auto;
    margin-bottom: auto;
    
    /* Maintain block display for wrapping */
    display: block; 
    text-align: center; 
}

/* Styling for each individual figure (The final size and clickable area) */
.child-figure {
    /* CRITICAL FIX: Set explicit, larger dimensions for clickability */
    width: 32px; 
    height: 32px;
    background-color: transparent;
    border-radius: 0;
    margin: 3px;
    opacity: 0; 
    transition: opacity 0.5s, transform 0.1s; /* Add transform transition */
    cursor: pointer;
    
    /* Set emoji size directly */
    font-size: 16px; 
    color: var(--accent-color);
    display: inline-block;
    
    /* Remove aggressive scaling, rely on width/height */
    transform: scale(1.0); 
    transform-origin: center center;
}

.child-figure::before {
    content: 'üßç'; 
    font-family: "Segoe UI Symbol", "Noto Color Emoji", sans-serif;
}

.child-figure:hover {
    color: var(--primary-color); 
    transform: scale(1.1); /* Small hover scale for feedback */
}

/* Pop-up for the Dream */
#click-dream-popup {
    /* ... (Ensure existing pop-up styles are here) ... */
    
    /* Ensure it starts completely hidden */
    opacity: 0; 
    pointer-events: none; 
}

#click-dream-popup.visible {
    opacity: 1;
    transform: translate(-50%, -50%) scale(1);
    pointer-events: auto;
}


/* --- Mobile Optimization: Media Query --- */
@media (max-width: 600px) {
    /* ... (Keep existing mobile styles) ... */
    
    .child-figure {
        width: 20px; /* Smaller clickable area on mobile */
        height: 20px;
        font-size: 14px;
        transform: scale(1.0); 
    }
}
